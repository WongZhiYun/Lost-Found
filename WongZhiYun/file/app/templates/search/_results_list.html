{% if results %}
  <!-- If got results, show in the list -->
  <div class="lf-results">
    {% for item in results %}
     <!-- English: Get the report object -->
      {% set r = item.report if item.report is defined else item[0] %}
      
      <!-- Every search result card -->
      <article class="lf-card">
        <div class="lf-thumb-wrap">
          {% if r.image %}
           <!-- Show uploaded image -->
            <img src="{{ url_for('static', filename='uploads/' ~ r.image) }}" alt="{{ r.title or 'item image' }}" />
          {% else %}
            <div>No image</div>
          {% endif %}
        </div>
        <div>
          <h3>{{ r.title }}</h3>
          <div>{{ r.category or 'N/A' }} — {{ r.location or '' }} — {{ r.date_posted.strftime('%Y-%m-%d') if r.date_posted else '' }}</div>
          <p>{{ r.description[:180] }}{% if r.description|length > 180 %}...{% endif %}</p>
        </div>
      </article>
    {% endfor %}
  </div>
{% else %}
  <!-- Message when no results found -->
  <div>No results.</div>
{% endif %}