<link rel="stylesheet" href="{{ url_for('static', filename='css/search.css') }}">

<!-- Load the CSS for search widget -->
<div class="lf-search-widget">
  <!-- Keyword search -->
  <form class="lf-search-form" method="get" action="{{ url_for('search.search_page') }}">
    <div class="lf-row">
      <!-- Input field for search keywords -->
      <input class="lf-input lf-keyword" type="text" name="q" value="{{ q or '' }}" placeholder="Search keywords..." />
      <!-- Dropdown menu for select category -->
      <select class="lf-select" name="category">
        <option value="">All categories</option>
        <option value="Bag" {% if category=='Bag' %}selected{% endif %}>Bag</option>
        <option value="Wallet" {% if category=='Wallet' %}selected{% endif %}>Wallet</option>
        <option value="Keys" {% if category=='Keys' %}selected{% endif %}>Keys</option>
        <option value="Clothes" {% if category=='Clothes' %}selected{% endif %}>Clothes</option>
        <option value="Electronics" {% if category=='Electronics' %}selected{% endif %}>Electronics</option>
        <option value="Stationery" {% if category=='Stationery' %}selected{% endif %}>Stationery</option>
        <option value="Others" {% if category=='Others' %}selected{% endif %}>Others</option>
      </select>
      <button class="lf-btn" type="submit">Search</button>
    </div>
  </form>

  <!-- Image search -->
  <div class="lf-row lf-image-controls" style="margin-top:10px;">
    <form class="inline" method="post" action="{{ url_for('search.search_by_image') }}" enctype="multipart/form-data">
      <!-- File input for select image -->
      <label class="lf-file">
        <input type="file" name="file" accept="image/*" class="lf-file-input" required />
        <span class="lf-file-label">Choose image</span>
      </label>
      <button class="lf-btn" type="submit">Search by Image</button>
    </form>
  </div>

  <!-- Combined (keywords + image) -->
  <div class="lf-row" style="margin-top:8px;">
    <form class="inline" method="post" action="{{ url_for('search.combined_search') }}" enctype="multipart/form-data">
      <input class="lf-input lf-keyword small" type="text" name="q" placeholder="Keywords (optional)" />
      <label class="lf-file small">
        <input type="file" name="file" accept="image/*" class="lf-file-input" />
        <span class="lf-file-label">Choose</span>
      </label>
      <!-- hidden alpha -->
      <input type="hidden" name="alpha" value="0.6" />
      <button class="lf-btn" type="submit">Combined Search</button>
    </form>
  </div>

  <!-- results -->
  <div id="lf-search-results" style="margin-top:12px;">
    {% include 'search/_results_list.html' %}
  </div>
</div>