{% extends "base.html" %}
{% block title %}Edit Profile{% endblock %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}">
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">

<!-- Back button -->
<a href="{{ url_for('views.profile') }}" class="back-link">
    <i class='bx bx-chevrons-left'></i> Back
</a>

<div class="profile-container">
    <h2>Edit Profile</h2>

    <form action="{{ url_for('views.edit_profile') }}" method="POST" enctype="multipart/form-data">
        <!-- Profile Picture -->
        <div class="form-group">
            <div class="profile-img">
                {% if user.profile_image and user.profile_image != 'default.png' %}
                    <img src="{{ url_for('static', filename='profile_pics/' + user.profile_image) }}" >
                {% else %}
                    <span class="profile-placeholder">{{ user.username[0]|upper }}</span>
                {% endif %}
            </div>
            <input type="file" name="profile_image" accept="image/*" >
        </div>

        <!-- Username -->
        <div class="form-group">
            <label>Username</label>
            <input type="text" name="username" value="{{ user.username }}" required>
        </div>

        <!-- Email -->
        <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" value="{{ user.email }}" required>
        </div>

        <button type="submit" class="save-btn">Save Changes</button>
    </form>
</div>
{% endblock %}
