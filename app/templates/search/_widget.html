<link rel="stylesheet" href="{{ url_for('static', filename='css/search.css') }}">

<div class="lf-search-widget">
  <form class="lf-search-form" method="get" action="{{ url_for('search.search_page') }}">
    <div class="lf-row">
      <input class="lf-input lf-keyword" type="text" name="q" value="{{ q or '' }}" placeholder="Search keywords..." />
      <select class="lf-select" name="category">
        <option value="">All categories</option>
        <option value="Electronics" {% if category=='Electronics' %}selected{% endif %}>Electronics</option>
        <option value="Stationery" {% if category=='Stationery' %}selected{% endif %}>Stationery</option>
      </select>
      <button class="lf-btn" type="submit">Search</button>
    </div>
  </form>

  <div class="lf-row lf-image-controls">
    <form class="inline" method="post" action="{{ url_for('search.search_by_image') }}" enctype="multipart/form-data">
      <label class="lf-file">
        <input type="file" name="file" accept="image/*" class="lf-file-input" />
        <span class="lf-file-label">Choose image</span>
      </label>
      <button class="lf-btn" type="submit">Search by Image</button>
    </form>

    <form class="inline" method="post" action="{{ url_for('search.combined_search') }}" enctype="multipart/form-data">
      <input class="lf-input lf-keyword small" type="text" name="q" placeholder="Keywords (optional)" />
      <label class="lf-file small">
        <input type="file" name="file" accept="image/*" class="lf-file-input" />
        <span class="lf-file-label">Choose</span>
      </label>
      <label class="alpha-label">Image weight:
        <input class="lf-alpha" type="number" name="alpha" min="0" max="1" step="0.1" value="0.6" />
      </label>
      <button class="lf-btn" type="submit">Combined</button>
    </form>
  </div>

  <div id="lf-search-results">
    {% include 'search/results.html' %}
  </div>
</div>